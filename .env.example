# ============================================================================
# Security Configuration (REQUIRED for production)
# ============================================================================

# API Key Authentication
# Generate keys using: python scripts/generate_api_key.py
# Supports multiple keys (comma-separated) or individual keys (API_KEY_1, API_KEY_2, etc.)
API_KEYS=your-generated-api-key-here
REQUIRE_API_AUTH=true  # Set to "false" only for local development

# Audit Logging (recommended for production)
ENABLE_AUDIT_LOG=true
AUDIT_LOG_FILE=/var/log/hed-bot/audit.log

# CORS Configuration
# Production frontend is allowed by default (hed-bot.pages.dev)
# Localhost origins (ports 3000, 5173, 8000, 8080) are allowed by default for local testing
# Set ALLOW_LOCALHOST_CORS=false to disable localhost in production (not recommended)
ALLOW_LOCALHOST_CORS=true

# Add extra origins here (comma-separated) if needed
EXTRA_CORS_ORIGINS=

# ============================================================================
# LLM Provider Configuration
# ============================================================================

LLM_PROVIDER=ollama  # Options: "ollama" (local) or "openrouter" (cloud)
LLM_TEMPERATURE=0.1  # Low temperature (0.0-1.0) for consistent, less creative responses

# OpenRouter Configuration (only used if LLM_PROVIDER=openrouter)
# Get your API key from https://openrouter.ai/
OPENROUTER_API_KEY=your-api-key-here

# Per-Agent Model Configuration (OpenRouter only)
# See OPENROUTER.md for model options and pricing
ANNOTATION_MODEL=gpt-5-mini       # Main annotation generation
EVALUATION_MODEL=gpt-5-mini       # Faithfulness evaluation
ASSESSMENT_MODEL=gpt-5-nano       # Final completeness check (cheap)
FEEDBACK_MODEL=gpt-5-nano         # Feedback summarization (ultra-cheap)

# Ollama Configuration (only used if LLM_PROVIDER=ollama)
LLM_BASE_URL=http://localhost:11435
LLM_MODEL=gpt-oss:20b

# HED Schema Configuration (JSON format)
# NOTE: Paths are auto-detected!
# - In Docker: Uses /app/hed-schemas/schemas_latest_json
# - Locally: Uses ~/git/hed-schemas/schemas_latest_json
# - Override with environment variable if needed
HED_SCHEMA_DIR=  # Leave empty for auto-detection
HED_SCHEMA_VERSION=8.4.0

# HED Validator Configuration
# NOTE: Paths are auto-detected!
# - In Docker: Uses /app/hed-javascript
# - Locally: Uses ~/git/hed-javascript
# - Override with environment variable if needed
HED_VALIDATOR_PATH=  # Leave empty for auto-detection
USE_JS_VALIDATOR=true

# API Configuration
API_HOST=0.0.0.0
API_PORT=38427
API_WORKERS=4

# Workflow Configuration
MAX_VALIDATION_ATTEMPTS=5
MAX_TOTAL_ITERATIONS=10

# Logging
LOG_LEVEL=INFO
